BEGIN ~FERTHG~

IF WEIGHT #1~  NumTimesTalkedTo(0) ~ THEN BEGIN F0
SAY@0
IF ~~ THEN REPLY @1  GOTO 1
IF ~~ THEN REPLY @2 GOTO 2
END

IF ~~ THEN BEGIN 1
 SAY @3
IF ~~ THEN DO ~SetGlobal("HelpFerthg","GLOBAL",1) ~ EXIT
END

IF ~~ THEN BEGIN 2
SAY @4
IF ~~ THEN REPLY @5 GOTO 3
IF ~~ THEN REPLY @6GOTO 1
IF ~~ THEN REPLY @7 EXIT
END

IF ~~ THEN BEGIN 3
SAY @8
IF ~~ THEN DO ~Enemy() ~ EXIT
END

IF ~~ THEN BEGIN 4
SAY @9
IF ~~ THEN DO ~LeaveParty() ~ EXIT
END

IF WEIGHT #2 ~  Global("HelpFerthg","GLOBAL",0)GlobalGT("FerthgDuergr","GLOBAL",5) ~ THEN BEGIN 5
SAY @10
IF ~~ THEN DO ~SetGlobal("FerthgDuergr","GLOBAL",1) EscapeArea()~ EXIT
END

IF WEIGHT #3 ~  Global("HelpFerthg","GLOBAL",1) GlobalGT("FerthgDuergr","GLOBAL",5) ~ THEN BEGIN 6
SAY @11
IF ~~ THEN REPLY @12 GOTO 7
END

IF ~~ THEN BEGIN 7
SAY @13
=@14
IF ~~ THEN REPLY @15DO~GiveItem("DSHamm01",LastTalkedToBy)~ GOTO 8
END

IF ~~ THEN BEGIN 8
SAY @9
IF ~~ THEN REPLY @6 DO ~JoinParty()~ EXIT
IF ~~ THEN REPLY @16 DO ~EscapeArea() ~ EXIT
END

IF WEIGHT #0 ~  Global("NEG","GLOBAL",1)~ THEN BEGIN F9
SAY @17
IF ~~ THEN REPLY @6 GOTO 11
IF ~~ THEN REPLY @16 GOTO 4
END

IF ~~ THEN BEGIN 10
SAY @18
IF ~~ THEN REPLY @6 GOTO 11
IF ~~ THEN REPLY @16 GOTO 4
END

IF ~~ THEN BEGIN 11
SAY @19 IF ~~ THEN DO ~JoinParty()~ EXIT
END
